
<div class="container mt-5">
  <div class="row">
    <div class="col-12">
    <% current_user.name ? (name = current_user.name) : (name = "My") %>
    <h1 style="text-align:center"><%= name %> Violations (<%= @violations.count %>)</h1>
    <br>
    <%= link_to "All Violations", my_violations_path, class:"btn btn-secondary" %>
    <%= link_to "Current", my_violations_path(status: "current"), class:"btn btn-warning" %>
    <%= link_to "Closed", my_violations_path(status: "resolved"), class:"btn btn-success" %>
      <br>
      <div class="table-responsive">
      <table class="table table-sm table-striped">
        <thead>
          <tr>
            <th scope="col">Address</th>
            <th scope="col">Created By</th>
            <th scope="col">Created At</th>
            <th scope="col">Violation Type</th>
            <th scope="col">Code</th>
            <th scope="col">Deadline Date</th>
            <th scope="col">Citations</th>
          </tr>
        </thead>
      </div>
      <tbody>
        <% @violations.each do |violation| %>
          <%= render partial: 'shared/violation_table', locals: { violation: violation } %>
        <% end %>
      </tbody>
      </table>
    </div>
  </div>
</div>